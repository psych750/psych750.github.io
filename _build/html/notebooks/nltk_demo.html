
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Intro to NLTK &#8212; Psych 750</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/book.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://psych750.github.io/notebooks/nltk_demo.html" />
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Exercise 0 - Test assignment" href="Exercise0-test.html" />
    <link rel="prev" title="Google this!" href="activity_google_this.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/favicon.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Psych 750</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search..." aria-label="Search..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Schedule
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="schedule.html">
   Week by week schedule
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://github.com/psych750/resources/blob/main/syllabus/programming_dataScience_fa22.pdf">
   Syllabus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="submitting_assignments.html">
   Submitting assignments
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Installation instructions
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="programming_environment_osx.html">
   Instructions for MacOS
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="programming_environment_windows.html">
   Programming Environment for Windows
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  References
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Shell_reference.html">
   Basic Linux commands
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Python_reference.html">
   Python reference
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Psychopy_reference.html">
   PsychoPy reference
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ImageMagick.html">
   ImageMagick/GraphicsMagick reference
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Self Study Guides
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="var_string_num.html">
   Variables, Strings, and Numbers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="list_basics.html">
   Lists - the basics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="if_statements.html">
   If Statements
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dictionaries.html">
   Dictionaries
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="introducing_functions.html">
   Introducing Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="list_comprehension.html">
   List Comprehension
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="review_of_fundamentals_a.html">
   Review of Fundamentals A
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="trial_generation.html">
   Randomization and Iteration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://docs.python.org/3.7/tutorial/errors.html">
   Handling Exceptions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="activity_basic_pandas_operations.html">
   Using Pandas to read/write CSV files.
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="globbing_files.html">
   File access-Globbing and preloading
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="activity_reference_vs_value.html">
   Mutable and immutable types
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="regexp.html">
   Regular Expressions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="classes.html">
   Classes
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  In class activities
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="python_basics.html">
   Python basics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="activity_print_pyramids.html">
   The first thinking exercise
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="activity_file_writing.html">
   Primer on writing files
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="activity_list_manip_vowels_1.html">
   Working with strings in lists
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="activity_dictionaries.html">
   A few dictionary activities
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="activity_trial_generation.html">
   Some more trial generation practice
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="activity_debugging.html">
   Debugging practice 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="activity_debugging_experiments.html">
   Debugging practice 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://psych750.github.io/knitted_Rmd/playing_around_gss_solutions.html">
   Basic Examples of GSS data wrangling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="activity_google_this.html">
   Google this!
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   NLTK demo
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Exercises
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Exercise0-test.html">
   Exercise 0-Test assignment
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Exercise1-square.html">
   Exercise 1-Show a square and do stuff with it
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Exercise2-stroop.html">
   Exercise 2-A Stroop task
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Exercise3-extended-stroop.html">
   Exercise 3-Extending the Stroop
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Exercise4-more_modularized_stroop.html">
   Exercise 4-Modularization and error checking
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Exercise5-interactive.html">
   Exercise 5-Getting interactive
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Exercise6-tilt_analysis.html">
   Exercise 6-Analyzing the tilt adjustment data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Exercise7-gss-wrangling.html">
   Exercise 7-Exploring the general social survey
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Exercise8-regexps.html">
   Exercise 8-Practice with regular expressions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Exercise9-nltk.html">
   Exercise 9-Practice with NLTK
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Exercise10-oop_circles.html">
   Exercise 10-Circle drop OOP practce
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/psych750/psych750.github.io/main?urlpath=tree/notebooks/nltk_demo.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/notebooks/nltk_demo.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#frequency-distributions">
   Frequency Distributions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#removing-stop-words">
   Removing stop words
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#concordances">
   Concordances
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dispersion-plots">
   Dispersion plots
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#n-grams-and-their-frequencies">
   N-grams and their frequencies
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#collocations">
   Collocations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lemmatization">
   Lemmatization
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#wordnet">
   WordNet
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#antonyms-and-entailments">
     Antonyms and entailments
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#looking-up-the-class-of-an-animal-quick-case-study">
     Looking up the class of an animal – quick case study
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Intro to NLTK</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#frequency-distributions">
   Frequency Distributions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#removing-stop-words">
   Removing stop words
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#concordances">
   Concordances
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dispersion-plots">
   Dispersion plots
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#n-grams-and-their-frequencies">
   N-grams and their frequencies
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#collocations">
   Collocations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lemmatization">
   Lemmatization
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#wordnet">
   WordNet
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#antonyms-and-entailments">
     Antonyms and entailments
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#looking-up-the-class-of-an-animal-quick-case-study">
     Looking up the class of an animal – quick case study
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="intro-to-nltk">
<h1>Intro to NLTK<a class="headerlink" href="#intro-to-nltk" title="Permalink to this headline">#</a></h1>
<p>A whirlwind tour of Python’s natural language toolkit (NLTK).</p>
<p>We’ll start by importing a few libraries and opening up a sample text file: Jane Austen’s Pride and Prejudice.</p>
<p>If you get import errors, use <code class="docutils literal notranslate"><span class="pre">pip</span></code> to install the missing package (<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">package_name</span></code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nltk</span>
<span class="kn">import</span> <span class="nn">urllib</span>
<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">gutenberg</span>
<span class="kn">from</span> <span class="nn">nltk.text</span> <span class="kn">import</span> <span class="n">Text</span>

<span class="n">pride_prejudice</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s2">&quot;https://psych750.github.io/data/pride_prejudice.txt&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">pride_prejudice</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">100</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>PRIDE AND PREJUDICE

By Jane Austen



Chapter 1


It is a truth universally acknowledged, 
</pre></div>
</div>
</div>
</div>
<p>Now let’s tokenize and lowercase the text.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pride_prejudice_raw_tokens</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">word_tokenize</span><span class="p">(</span><span class="n">pride_prejudice</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;Original tokens (first 100):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pride_prejudice_raw_tokens</span><span class="p">[:</span><span class="mi">100</span><span class="p">])</span>

<span class="c1">#lowercase </span>
<span class="n">pride_prejudice_raw_tokens</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">pride_prejudice_raw_tokens</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;Lowercased tokens (first 100):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">pride_prejudice_raw_tokens</span><span class="p">[:</span><span class="mi">100</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Original tokens (first 100):
[&#39;PRIDE&#39;, &#39;AND&#39;, &#39;PREJUDICE&#39;, &#39;By&#39;, &#39;Jane&#39;, &#39;Austen&#39;, &#39;Chapter&#39;, &#39;1&#39;, &#39;It&#39;, &#39;is&#39;, &#39;a&#39;, &#39;truth&#39;, &#39;universally&#39;, &#39;acknowledged&#39;, &#39;,&#39;, &#39;that&#39;, &#39;a&#39;, &#39;single&#39;, &#39;man&#39;, &#39;in&#39;, &#39;possession&#39;, &#39;of&#39;, &#39;a&#39;, &#39;good&#39;, &#39;fortune&#39;, &#39;,&#39;, &#39;must&#39;, &#39;be&#39;, &#39;in&#39;, &#39;want&#39;, &#39;of&#39;, &#39;a&#39;, &#39;wife&#39;, &#39;.&#39;, &#39;However&#39;, &#39;little&#39;, &#39;known&#39;, &#39;the&#39;, &#39;feelings&#39;, &#39;or&#39;, &#39;views&#39;, &#39;of&#39;, &#39;such&#39;, &#39;a&#39;, &#39;man&#39;, &#39;may&#39;, &#39;be&#39;, &#39;on&#39;, &#39;his&#39;, &#39;first&#39;, &#39;entering&#39;, &#39;a&#39;, &#39;neighbourhood&#39;, &#39;,&#39;, &#39;this&#39;, &#39;truth&#39;, &#39;is&#39;, &#39;so&#39;, &#39;well&#39;, &#39;fixed&#39;, &#39;in&#39;, &#39;the&#39;, &#39;minds&#39;, &#39;of&#39;, &#39;the&#39;, &#39;surrounding&#39;, &#39;families&#39;, &#39;,&#39;, &#39;that&#39;, &#39;he&#39;, &#39;is&#39;, &#39;considered&#39;, &#39;the&#39;, &#39;rightful&#39;, &#39;property&#39;, &#39;of&#39;, &#39;some&#39;, &#39;one&#39;, &#39;or&#39;, &#39;other&#39;, &#39;of&#39;, &#39;their&#39;, &#39;daughters&#39;, &#39;.&#39;, &#39;``&#39;, &#39;My&#39;, &#39;dear&#39;, &#39;Mr.&#39;, &#39;Bennet&#39;, &#39;,&#39;, &quot;&#39;&#39;&quot;, &#39;said&#39;, &#39;his&#39;, &#39;lady&#39;, &#39;to&#39;, &#39;him&#39;, &#39;one&#39;, &#39;day&#39;, &#39;,&#39;, &#39;``&#39;]
Lowercased tokens (first 100):
[&#39;pride&#39;, &#39;and&#39;, &#39;prejudice&#39;, &#39;by&#39;, &#39;jane&#39;, &#39;austen&#39;, &#39;chapter&#39;, &#39;1&#39;, &#39;it&#39;, &#39;is&#39;, &#39;a&#39;, &#39;truth&#39;, &#39;universally&#39;, &#39;acknowledged&#39;, &#39;,&#39;, &#39;that&#39;, &#39;a&#39;, &#39;single&#39;, &#39;man&#39;, &#39;in&#39;, &#39;possession&#39;, &#39;of&#39;, &#39;a&#39;, &#39;good&#39;, &#39;fortune&#39;, &#39;,&#39;, &#39;must&#39;, &#39;be&#39;, &#39;in&#39;, &#39;want&#39;, &#39;of&#39;, &#39;a&#39;, &#39;wife&#39;, &#39;.&#39;, &#39;however&#39;, &#39;little&#39;, &#39;known&#39;, &#39;the&#39;, &#39;feelings&#39;, &#39;or&#39;, &#39;views&#39;, &#39;of&#39;, &#39;such&#39;, &#39;a&#39;, &#39;man&#39;, &#39;may&#39;, &#39;be&#39;, &#39;on&#39;, &#39;his&#39;, &#39;first&#39;, &#39;entering&#39;, &#39;a&#39;, &#39;neighbourhood&#39;, &#39;,&#39;, &#39;this&#39;, &#39;truth&#39;, &#39;is&#39;, &#39;so&#39;, &#39;well&#39;, &#39;fixed&#39;, &#39;in&#39;, &#39;the&#39;, &#39;minds&#39;, &#39;of&#39;, &#39;the&#39;, &#39;surrounding&#39;, &#39;families&#39;, &#39;,&#39;, &#39;that&#39;, &#39;he&#39;, &#39;is&#39;, &#39;considered&#39;, &#39;the&#39;, &#39;rightful&#39;, &#39;property&#39;, &#39;of&#39;, &#39;some&#39;, &#39;one&#39;, &#39;or&#39;, &#39;other&#39;, &#39;of&#39;, &#39;their&#39;, &#39;daughters&#39;, &#39;.&#39;, &#39;``&#39;, &#39;my&#39;, &#39;dear&#39;, &#39;mr.&#39;, &#39;bennet&#39;, &#39;,&#39;, &quot;&#39;&#39;&quot;, &#39;said&#39;, &#39;his&#39;, &#39;lady&#39;, &#39;to&#39;, &#39;him&#39;, &#39;one&#39;, &#39;day&#39;, &#39;,&#39;, &#39;``&#39;]
</pre></div>
</div>
</div>
</div>
<p>Now let’s remove punctuation</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pride_prejudice_clean_tokens</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">pride_prejudice_raw_tokens</span> <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">isalpha</span><span class="p">()]</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;Clean yokens (first 100). Now without punctuation:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pride_prejudice_clean_tokens</span><span class="p">[:</span><span class="mi">100</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Clean yokens (first 100). Now without punctuation:
[&#39;pride&#39;, &#39;and&#39;, &#39;prejudice&#39;, &#39;by&#39;, &#39;jane&#39;, &#39;austen&#39;, &#39;chapter&#39;, &#39;it&#39;, &#39;is&#39;, &#39;a&#39;, &#39;truth&#39;, &#39;universally&#39;, &#39;acknowledged&#39;, &#39;that&#39;, &#39;a&#39;, &#39;single&#39;, &#39;man&#39;, &#39;in&#39;, &#39;possession&#39;, &#39;of&#39;, &#39;a&#39;, &#39;good&#39;, &#39;fortune&#39;, &#39;must&#39;, &#39;be&#39;, &#39;in&#39;, &#39;want&#39;, &#39;of&#39;, &#39;a&#39;, &#39;wife&#39;, &#39;however&#39;, &#39;little&#39;, &#39;known&#39;, &#39;the&#39;, &#39;feelings&#39;, &#39;or&#39;, &#39;views&#39;, &#39;of&#39;, &#39;such&#39;, &#39;a&#39;, &#39;man&#39;, &#39;may&#39;, &#39;be&#39;, &#39;on&#39;, &#39;his&#39;, &#39;first&#39;, &#39;entering&#39;, &#39;a&#39;, &#39;neighbourhood&#39;, &#39;this&#39;, &#39;truth&#39;, &#39;is&#39;, &#39;so&#39;, &#39;well&#39;, &#39;fixed&#39;, &#39;in&#39;, &#39;the&#39;, &#39;minds&#39;, &#39;of&#39;, &#39;the&#39;, &#39;surrounding&#39;, &#39;families&#39;, &#39;that&#39;, &#39;he&#39;, &#39;is&#39;, &#39;considered&#39;, &#39;the&#39;, &#39;rightful&#39;, &#39;property&#39;, &#39;of&#39;, &#39;some&#39;, &#39;one&#39;, &#39;or&#39;, &#39;other&#39;, &#39;of&#39;, &#39;their&#39;, &#39;daughters&#39;, &#39;my&#39;, &#39;dear&#39;, &#39;bennet&#39;, &#39;said&#39;, &#39;his&#39;, &#39;lady&#39;, &#39;to&#39;, &#39;him&#39;, &#39;one&#39;, &#39;day&#39;, &#39;have&#39;, &#39;you&#39;, &#39;heard&#39;, &#39;that&#39;, &#39;netherfield&#39;, &#39;park&#39;, &#39;is&#39;, &#39;let&#39;, &#39;at&#39;, &#39;last&#39;, &#39;bennet&#39;, &#39;replied&#39;, &#39;that&#39;]
</pre></div>
</div>
</div>
</div>
<section id="frequency-distributions">
<h2>Frequency Distributions<a class="headerlink" href="#frequency-distributions" title="Permalink to this headline">#</a></h2>
<p>The first thing we’ll do is build a frequency distribution using <code class="docutils literal notranslate"><span class="pre">nltk.FreqDist()</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pride_prejudice_freq_dist</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">(</span><span class="n">pride_prejudice_clean_tokens</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pride_prejudice_freq_dist</span></code> is formatted as a Python dictionary – nothing special here, but the nice thing is that FreqDist implements various methods we can use to compute and quickly plot various properties of the text.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pride_prejudice_freq_dist</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FreqDist({&#39;the&#39;: 4331, &#39;to&#39;: 4137, &#39;of&#39;: 3608, &#39;and&#39;: 3578, &#39;her&#39;: 2203, &#39;i&#39;: 2065, &#39;a&#39;: 1947, &#39;in&#39;: 1865, &#39;was&#39;: 1844, &#39;she&#39;: 1695, ...})
</pre></div>
</div>
</div>
</div>
<p>How many tokens are there?</p>
<p><code class="docutils literal notranslate"><span class="pre">.N()</span></code> gives us the total number of words – the tokens. (N standa for Number)</p>
<p><code class="docutils literal notranslate"><span class="pre">.B()</span></code> gives us the number of unique words – the types. (B stands for Bins)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Token count:&quot;</span><span class="p">,</span> <span class="n">pride_prejudice_freq_dist</span><span class="o">.</span><span class="n">N</span><span class="p">())</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Type count:&quot;</span><span class="p">,</span> <span class="n">pride_prejudice_freq_dist</span><span class="o">.</span><span class="n">B</span><span class="p">())</span>

<span class="c1"># We can get the frequency of a word by treating the FreqDist as a dictionary and looking up a word</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Occurences of &#39;darcy&#39;:&quot;</span><span class="p">,</span> <span class="n">pride_prejudice_freq_dist</span><span class="p">[</span><span class="s1">&#39;darcy&#39;</span><span class="p">])</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Occurences of &#39;love&#39;:&quot;</span><span class="p">,</span> <span class="n">pride_prejudice_freq_dist</span><span class="p">[</span><span class="s1">&#39;love&#39;</span><span class="p">])</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Occurences of &#39;money&#39;:&quot;</span><span class="p">,</span> <span class="n">pride_prejudice_freq_dist</span><span class="p">[</span><span class="s1">&#39;money&#39;</span><span class="p">])</span>

<span class="c1"># Find out how many tokens end in -ed</span>
<span class="c1"># We just ask for the length of the list of tokens</span>
<span class="c1"># that end in -ed</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;Tokens that end in -ed:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">([</span><span class="n">token</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">pride_prejudice_clean_tokens</span> <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;ed&#39;</span><span class="p">)]))</span>

<span class="c1"># If we want the number of types, we can use the keys of the</span>
<span class="c1"># FreqDist</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Types that end in -ed:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">([</span><span class="n">word_type</span> <span class="k">for</span> <span class="n">word_type</span> <span class="ow">in</span> <span class="n">pride_prejudice_freq_dist</span> <span class="k">if</span> <span class="n">word_type</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;ed&#39;</span><span class="p">)]))</span>

<span class="n">pride_prejudice_freq_dist</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Token count: 119960
Type count: 6190
Occurences of &#39;darcy&#39;: 408
Occurences of &#39;love&#39;: 91
Occurences of &#39;money&#39;: 26
Tokens that end in -ed: 4947
Types that end in -ed: 860
</pre></div>
</div>
<img alt="../_images/nltk_demo_12_1.png" src="../_images/nltk_demo_12_1.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Samples&#39;, ylabel=&#39;Counts&#39;&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="removing-stop-words">
<h2>Removing stop words<a class="headerlink" href="#removing-stop-words" title="Permalink to this headline">#</a></h2>
<p>Stop words is jargon for very frequent words that tend to be not very informative as to the meaning of the text. For example, we can’t learn much about an English text from knowing that it has the words “a”, “the”, and “to” in it…  These frequent words dominate frequency distributions and so are often removed as part of pre-processing. NLTK has a collection of stop-words for English (other languages too!)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>
<span class="nb">print</span><span class="p">(</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">))</span>

<span class="c1">#remove them</span>
<span class="n">pride_prejudice_clean_tokens_no_stop_words</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">pride_prejudice_clean_tokens</span> <span class="k">if</span> <span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;i&#39;, &#39;me&#39;, &#39;my&#39;, &#39;myself&#39;, &#39;we&#39;, &#39;our&#39;, &#39;ours&#39;, &#39;ourselves&#39;, &#39;you&#39;, &quot;you&#39;re&quot;, &quot;you&#39;ve&quot;, &quot;you&#39;ll&quot;, &quot;you&#39;d&quot;, &#39;your&#39;, &#39;yours&#39;, &#39;yourself&#39;, &#39;yourselves&#39;, &#39;he&#39;, &#39;him&#39;, &#39;his&#39;, &#39;himself&#39;, &#39;she&#39;, &quot;she&#39;s&quot;, &#39;her&#39;, &#39;hers&#39;, &#39;herself&#39;, &#39;it&#39;, &quot;it&#39;s&quot;, &#39;its&#39;, &#39;itself&#39;, &#39;they&#39;, &#39;them&#39;, &#39;their&#39;, &#39;theirs&#39;, &#39;themselves&#39;, &#39;what&#39;, &#39;which&#39;, &#39;who&#39;, &#39;whom&#39;, &#39;this&#39;, &#39;that&#39;, &quot;that&#39;ll&quot;, &#39;these&#39;, &#39;those&#39;, &#39;am&#39;, &#39;is&#39;, &#39;are&#39;, &#39;was&#39;, &#39;were&#39;, &#39;be&#39;, &#39;been&#39;, &#39;being&#39;, &#39;have&#39;, &#39;has&#39;, &#39;had&#39;, &#39;having&#39;, &#39;do&#39;, &#39;does&#39;, &#39;did&#39;, &#39;doing&#39;, &#39;a&#39;, &#39;an&#39;, &#39;the&#39;, &#39;and&#39;, &#39;but&#39;, &#39;if&#39;, &#39;or&#39;, &#39;because&#39;, &#39;as&#39;, &#39;until&#39;, &#39;while&#39;, &#39;of&#39;, &#39;at&#39;, &#39;by&#39;, &#39;for&#39;, &#39;with&#39;, &#39;about&#39;, &#39;against&#39;, &#39;between&#39;, &#39;into&#39;, &#39;through&#39;, &#39;during&#39;, &#39;before&#39;, &#39;after&#39;, &#39;above&#39;, &#39;below&#39;, &#39;to&#39;, &#39;from&#39;, &#39;up&#39;, &#39;down&#39;, &#39;in&#39;, &#39;out&#39;, &#39;on&#39;, &#39;off&#39;, &#39;over&#39;, &#39;under&#39;, &#39;again&#39;, &#39;further&#39;, &#39;then&#39;, &#39;once&#39;, &#39;here&#39;, &#39;there&#39;, &#39;when&#39;, &#39;where&#39;, &#39;why&#39;, &#39;how&#39;, &#39;all&#39;, &#39;any&#39;, &#39;both&#39;, &#39;each&#39;, &#39;few&#39;, &#39;more&#39;, &#39;most&#39;, &#39;other&#39;, &#39;some&#39;, &#39;such&#39;, &#39;no&#39;, &#39;nor&#39;, &#39;not&#39;, &#39;only&#39;, &#39;own&#39;, &#39;same&#39;, &#39;so&#39;, &#39;than&#39;, &#39;too&#39;, &#39;very&#39;, &#39;s&#39;, &#39;t&#39;, &#39;can&#39;, &#39;will&#39;, &#39;just&#39;, &#39;don&#39;, &quot;don&#39;t&quot;, &#39;should&#39;, &quot;should&#39;ve&quot;, &#39;now&#39;, &#39;d&#39;, &#39;ll&#39;, &#39;m&#39;, &#39;o&#39;, &#39;re&#39;, &#39;ve&#39;, &#39;y&#39;, &#39;ain&#39;, &#39;aren&#39;, &quot;aren&#39;t&quot;, &#39;couldn&#39;, &quot;couldn&#39;t&quot;, &#39;didn&#39;, &quot;didn&#39;t&quot;, &#39;doesn&#39;, &quot;doesn&#39;t&quot;, &#39;hadn&#39;, &quot;hadn&#39;t&quot;, &#39;hasn&#39;, &quot;hasn&#39;t&quot;, &#39;haven&#39;, &quot;haven&#39;t&quot;, &#39;isn&#39;, &quot;isn&#39;t&quot;, &#39;ma&#39;, &#39;mightn&#39;, &quot;mightn&#39;t&quot;, &#39;mustn&#39;, &quot;mustn&#39;t&quot;, &#39;needn&#39;, &quot;needn&#39;t&quot;, &#39;shan&#39;, &quot;shan&#39;t&quot;, &#39;shouldn&#39;, &quot;shouldn&#39;t&quot;, &#39;wasn&#39;, &quot;wasn&#39;t&quot;, &#39;weren&#39;, &quot;weren&#39;t&quot;, &#39;won&#39;, &quot;won&#39;t&quot;, &#39;wouldn&#39;, &quot;wouldn&#39;t&quot;]
</pre></div>
</div>
</div>
</div>
<p>Let’s get the frequency distribution of the text without the stop words:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pride_prejudice_clean_tokens_no_stop_words_fd</span> <span class="o">=</span>  <span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">(</span><span class="n">pride_prejudice_clean_tokens_no_stop_words</span><span class="p">)</span>
<span class="n">pride_prejudice_clean_tokens_no_stop_words_fd</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/nltk_demo_16_0.png" src="../_images/nltk_demo_16_0.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Samples&#39;, ylabel=&#39;Counts&#39;&gt;
</pre></div>
</div>
</div>
</div>
<p>A handy method inside FreqDist is <code class="docutils literal notranslate"><span class="pre">most_common</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pride_prejudice_clean_tokens_no_stop_words_fd</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;elizabeth&#39;, 632),
 (&#39;could&#39;, 525),
 (&#39;would&#39;, 468),
 (&#39;darcy&#39;, 408),
 (&#39;said&#39;, 401),
 (&#39;much&#39;, 326),
 (&#39;bennet&#39;, 321),
 (&#39;must&#39;, 305),
 (&#39;bingley&#39;, 302),
 (&#39;jane&#39;, 290)]
</pre></div>
</div>
</div>
</div>
</section>
<section id="concordances">
<h2>Concordances<a class="headerlink" href="#concordances" title="Permalink to this headline">#</a></h2>
<p>Concordances are the context in which a word is used. To calculate these, we can use NLTK’s <a class="reference external" href="https://www.nltk.org/api/nltk.text.html">Text module</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">Text</span><span class="p">(</span><span class="n">pride_prejudice_raw_tokens</span><span class="p">)</span><span class="o">.</span><span class="n">concordance</span><span class="p">(</span><span class="s2">&quot;picture&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Displaying 12 of 12 matches:
t not doing its office . &#39;&#39; `` your picture may be very exact , louisa , &#39;&#39; sai
nt lines . as for your elizabeth &#39;s picture , you must not have it taken , for 
 mr. collins was a most humiliating picture ! and to the pang of a friend disgr
nd obliging . it was mr. collins &#39;s picture of hunsford and rosings rationally 
 elizabeth laughed heartily at this picture of herself , and said to colonel fi
 ; but it appeared to her so just a picture of mr. darcy , that she would not t
er aunt now called her to look at a picture . she approached and saw the likene
me forward , and told them it was a picture of a young gentleman , the son of h
said mrs. gardiner , looking at the picture ; `` it is a handsome face . but , 
tairs you will see a finer , larger picture of him than this . this room was my
he stood several minutes before the picture , in earnest contemplation , and re
earance , or his resemblance to the picture they had just been examining , been
None
</pre></div>
</div>
</div>
</div>
</section>
<section id="dispersion-plots">
<h2>Dispersion plots<a class="headerlink" href="#dispersion-plots" title="Permalink to this headline">#</a></h2>
<p>Another neat method inside the <code class="docutils literal notranslate"><span class="pre">Text</span></code> class is a dispersion plot.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Text</span><span class="p">(</span><span class="n">pride_prejudice_raw_tokens</span><span class="p">)</span><span class="o">.</span><span class="n">dispersion_plot</span><span class="p">([</span><span class="s1">&#39;love&#39;</span><span class="p">,</span> <span class="s1">&#39;money&#39;</span><span class="p">,</span> <span class="s1">&#39;marriage&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/nltk_demo_22_0.png" src="../_images/nltk_demo_22_0.png" />
</div>
</div>
</section>
<section id="n-grams-and-their-frequencies">
<h2>N-grams and their frequencies<a class="headerlink" href="#n-grams-and-their-frequencies" title="Permalink to this headline">#</a></h2>
<p>N-grams are word sequences on n-length. For example, 2-grams (typically called bigrams) are all the combinations of 2 words that occur sequentially in a text. 3-grams (trigrams) are all the 3-word combinations. To compute them, use nltk’s bigram and trigram modules</p>
<div class="cell tag_hide-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nltk.collocations</span> <span class="k">as</span> <span class="nn">collocations</span>
<span class="kn">from</span> <span class="nn">nltk</span> <span class="kn">import</span> <span class="n">FreqDist</span><span class="p">,</span> <span class="n">bigrams</span><span class="p">,</span> <span class="n">trigrams</span>

<span class="c1">#compute bigrams and their frequencies</span>
<span class="n">bigram_freqs</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">(</span><span class="n">nltk</span><span class="o">.</span><span class="n">bigrams</span><span class="p">(</span><span class="n">pride_prejudice_clean_tokens_no_stop_words</span><span class="p">))</span>

<span class="n">bigram_freqs</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[((&#39;lady&#39;, &#39;catherine&#39;), 113),
 ((&#39;miss&#39;, &#39;bingley&#39;), 87),
 ((&#39;miss&#39;, &#39;bennet&#39;), 65),
 ((&#39;said&#39;, &#39;elizabeth&#39;), 45),
 ((&#39;sir&#39;, &#39;william&#39;), 44),
 ((&#39;de&#39;, &#39;bourgh&#39;), 39),
 ((&#39;young&#39;, &#39;man&#39;), 38),
 ((&#39;miss&#39;, &#39;darcy&#39;), 38),
 ((&#39;dare&#39;, &#39;say&#39;), 31),
 ((&#39;colonel&#39;, &#39;fitzwilliam&#39;), 30),
 ((&#39;colonel&#39;, &#39;forster&#39;), 28),
 ((&#39;elizabeth&#39;, &#39;could&#39;), 26),
 ((&#39;said&#39;, &#39;bennet&#39;), 25),
 ((&#39;young&#39;, &#39;ladies&#39;), 25),
 ((&#39;miss&#39;, &#39;lucas&#39;), 25),
 ((&#39;cried&#39;, &#39;elizabeth&#39;), 24),
 ((&#39;great&#39;, &#39;deal&#39;), 23),
 ((&#39;uncle&#39;, &#39;aunt&#39;), 23),
 ((&#39;went&#39;, &#39;away&#39;), 21),
 ((&#39;could&#39;, &#39;help&#39;), 20),
 ((&#39;thousand&#39;, &#39;pounds&#39;), 20),
 ((&#39;miss&#39;, &#39;de&#39;), 20),
 ((&#39;replied&#39;, &#39;elizabeth&#39;), 19),
 ((&#39;next&#39;, &#39;morning&#39;), 19),
 ((&#39;lady&#39;, &#39;lucas&#39;), 18),
 ((&#39;said&#39;, &#39;miss&#39;), 18),
 ((&#39;made&#39;, &#39;answer&#39;), 17),
 ((&#39;young&#39;, &#39;lady&#39;), 17),
 ((&#39;much&#39;, &#39;better&#39;), 17),
 ((&#39;soon&#39;, &#39;afterwards&#39;), 16)]
</pre></div>
</div>
</div>
</div>
<p>We can also look at trigrams, but with just a single book this is not going to be very effective. Notice that even the most frequent trigrams aren’t observed very often!</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To compute n-grams beyond 3, you can use nltk.ngrams, but for small corpora like those of a book (or even a 100 books), you’ll find that the vast majority will only occur once, and so there’s nothing to work with…</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trigram_freqs</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">(</span><span class="n">nltk</span><span class="o">.</span><span class="n">trigrams</span><span class="p">(</span><span class="n">pride_prejudice_clean_tokens_no_stop_words</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">trigram_freqs</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[((&#39;miss&#39;, &#39;de&#39;, &#39;bourgh&#39;), 20), ((&#39;lady&#39;, &#39;catherine&#39;, &#39;de&#39;), 14), ((&#39;catherine&#39;, &#39;de&#39;, &#39;bourgh&#39;), 14), ((&#39;sir&#39;, &#39;william&#39;, &#39;lucas&#39;), 10), ((&#39;said&#39;, &#39;miss&#39;, &#39;bingley&#39;), 10), ((&#39;hurst&#39;, &#39;miss&#39;, &#39;bingley&#39;), 9), ((&#39;lady&#39;, &#39;catherine&#39;, &#39;daughter&#39;), 8), ((&#39;ten&#39;, &#39;thousand&#39;, &#39;pounds&#39;), 6), ((&#39;miss&#39;, &#39;elizabeth&#39;, &#39;bennet&#39;), 5), ((&#39;ten&#39;, &#39;thousand&#39;, &#39;year&#39;), 4), ((&#39;dear&#39;, &#39;said&#39;, &#39;bennet&#39;), 4), ((&#39;miss&#39;, &#39;bennet&#39;, &#39;came&#39;), 4), ((&#39;may&#39;, &#39;depend&#39;, &#39;upon&#39;), 4), ((&#39;could&#39;, &#39;think&#39;, &#39;nothing&#39;), 4), ((&#39;elizabeth&#39;, &#39;could&#39;, &#39;help&#39;), 4), ((&#39;elizabeth&#39;, &#39;made&#39;, &#39;answer&#39;), 4), ((&#39;could&#39;, &#39;think&#39;, &#39;without&#39;), 4), ((&#39;without&#39;, &#39;saying&#39;, &#39;word&#39;), 4), ((&#39;lady&#39;, &#39;catherine&#39;, &#39;seemed&#39;), 4), ((&#39;since&#39;, &#39;went&#39;, &#39;away&#39;), 4)]
</pre></div>
</div>
</div>
</div>
<p>Let’s look at the most frequent trigrams in a slightly larger corpus: NLTK’s Project Gutenberg. Project Gutenberg contains the text of many out-of-copyright books and you can download all of them. NLTK bundles a handful:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;gutenberg&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nltk</span><span class="o">.</span><span class="n">corpus</span><span class="o">.</span><span class="n">gutenberg</span><span class="o">.</span><span class="n">fileids</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;austen-emma.txt&#39;, &#39;austen-persuasion.txt&#39;, &#39;austen-sense.txt&#39;, &#39;bible-kjv.txt&#39;, &#39;blake-poems.txt&#39;, &#39;bryant-stories.txt&#39;, &#39;burgess-busterbrown.txt&#39;, &#39;carroll-alice.txt&#39;, &#39;chesterton-ball.txt&#39;, &#39;chesterton-brown.txt&#39;, &#39;chesterton-thursday.txt&#39;, &#39;edgeworth-parents.txt&#39;, &#39;melville-moby_dick.txt&#39;, &#39;milton-paradise.txt&#39;, &#39;shakespeare-caesar.txt&#39;, &#39;shakespeare-hamlet.txt&#39;, &#39;shakespeare-macbeth.txt&#39;, &#39;whitman-leaves.txt&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[nltk_data] Downloading package gutenberg to
[nltk_data]     /Users/glupyan/nltk_data...
[nltk_data]   Package gutenberg is already up-to-date!
</pre></div>
</div>
</div>
</div>
<p>Any idea what the most common trigrams are if we combine all of these books into a single corpus?</p>
<div class="cell tag_hide-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">some_books</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">corpus</span><span class="o">.</span><span class="n">gutenberg</span><span class="o">.</span><span class="n">words</span><span class="p">()</span>

<span class="n">some_books_clean</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">some_books</span> <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">isalpha</span><span class="p">()]</span>
<span class="n">trigram_freqs</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">(</span><span class="n">nltk</span><span class="o">.</span><span class="n">trigrams</span><span class="p">(</span><span class="n">some_books_clean</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">trigram_freqs</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[((&#39;of&#39;, &#39;the&#39;, &#39;lord&#39;), 1780), ((&#39;the&#39;, &#39;son&#39;, &#39;of&#39;), 1466), ((&#39;the&#39;, &#39;children&#39;, &#39;of&#39;), 1368), ((&#39;out&#39;, &#39;of&#39;, &#39;the&#39;), 1202), ((&#39;the&#39;, &#39;house&#39;, &#39;of&#39;), 917), ((&#39;saith&#39;, &#39;the&#39;, &#39;lord&#39;), 854), ((&#39;the&#39;, &#39;lord&#39;, &#39;and&#39;), 818), ((&#39;and&#39;, &#39;i&#39;, &#39;will&#39;), 764), ((&#39;and&#39;, &#39;all&#39;, &#39;the&#39;), 697), ((&#39;children&#39;, &#39;of&#39;, &#39;israel&#39;), 647), ((&#39;the&#39;, &#39;land&#39;, &#39;of&#39;), 626), ((&#39;the&#39;, &#39;sons&#39;, &#39;of&#39;), 574), ((&#39;and&#39;, &#39;the&#39;, &#39;lord&#39;), 572), ((&#39;and&#39;, &#39;he&#39;, &#39;said&#39;), 526), ((&#39;unto&#39;, &#39;the&#39;, &#39;lord&#39;), 510), ((&#39;the&#39;, &#39;king&#39;, &#39;of&#39;), 500), ((&#39;the&#39;, &#39;lord&#39;, &#39;god&#39;), 481), ((&#39;it&#39;, &#39;came&#39;, &#39;to&#39;), 474), ((&#39;came&#39;, &#39;to&#39;, &#39;pass&#39;), 461), ((&#39;said&#39;, &#39;unto&#39;, &#39;him&#39;), 454), ((&#39;of&#39;, &#39;the&#39;, &#39;house&#39;), 435), ((&#39;thus&#39;, &#39;saith&#39;, &#39;the&#39;), 430), ((&#39;and&#39;, &#39;they&#39;, &#39;shall&#39;), 427), ((&#39;and&#39;, &#39;thou&#39;, &#39;shalt&#39;), 422), ((&#39;one&#39;, &#39;of&#39;, &#39;the&#39;), 419), ((&#39;the&#39;, &#39;hand&#39;, &#39;of&#39;), 409), ((&#39;the&#39;, &#39;name&#39;, &#39;of&#39;), 407), ((&#39;of&#39;, &#39;the&#39;, &#39;earth&#39;), 404), ((&#39;and&#39;, &#39;it&#39;, &#39;came&#39;), 400), ((&#39;and&#39;, &#39;in&#39;, &#39;the&#39;), 397)]
</pre></div>
</div>
</div>
</div>
</section>
<section id="collocations">
<h2>Collocations<a class="headerlink" href="#collocations" title="Permalink to this headline">#</a></h2>
<p>Bigrams and trigrams are simply all the pairs (and triplets) of words that occur sequentially. The most frequent ones are… more frequent, but part of the reason they’re more frequent is that their <em>individual</em> words are more frequent.</p>
<p>Here’s an example of getting collocations – combinations of words that are unlikely to appear together, but do (and so are important).
(more and more complex examples <a class="reference external" href="https://www.nltk.org/howto/collocations.html">here</a>)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Text</span><span class="p">(</span><span class="n">pride_prejudice_clean_tokens_no_stop_words</span><span class="p">)</span><span class="o">.</span><span class="n">collocation_list</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;lady&#39;, &#39;catherine&#39;),
 (&#39;sir&#39;, &#39;william&#39;),
 (&#39;miss&#39;, &#39;bingley&#39;),
 (&#39;colonel&#39;, &#39;fitzwilliam&#39;),
 (&#39;miss&#39;, &#39;bennet&#39;),
 (&#39;colonel&#39;, &#39;forster&#39;),
 (&#39;dare&#39;, &#39;say&#39;),
 (&#39;young&#39;, &#39;man&#39;),
 (&#39;thousand&#39;, &#39;pounds&#39;),
 (&#39;great&#39;, &#39;deal&#39;),
 (&#39;uncle&#39;, &#39;aunt&#39;),
 (&#39;young&#39;, &#39;ladies&#39;),
 (&#39;went&#39;, &#39;away&#39;),
 (&#39;miss&#39;, &#39;lucas&#39;),
 (&#39;next&#39;, &#39;morning&#39;),
 (&#39;depend&#39;, &#39;upon&#39;),
 (&#39;miss&#39;, &#39;darcy&#39;),
 (&#39;gracechurch&#39;, &#39;street&#39;),
 (&#39;made&#39;, &#39;answer&#39;),
 (&#39;soon&#39;, &#39;afterwards&#39;)]
</pre></div>
</div>
</div>
</div>
<p>Let’s compare it to the collocations from Alice in Wonderland. We’ll tokenize in a slightly different way here, as an added example.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alice_raw</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">corpus</span><span class="o">.</span><span class="n">gutenberg</span><span class="o">.</span><span class="n">raw</span><span class="p">(</span><span class="s1">&#39;carroll-alice.txt&#39;</span><span class="p">)</span>

<span class="n">alice_tokenizer</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">tokenize</span><span class="o">.</span><span class="n">RegexpTokenizer</span><span class="p">(</span><span class="s1">&#39;\w+&#39;</span><span class="p">)</span> <span class="c1">#can put in whatever regexp you want here</span>
<span class="n">alice_tokenized</span> <span class="o">=</span> <span class="n">alice_tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">alice_raw</span><span class="p">)</span>
<span class="n">alice_tokenized</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">alice_tokenized</span> <span class="k">if</span> <span class="n">token</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">)]</span>

<span class="n">alice_clean</span> <span class="o">=</span>  <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">alice_tokenized</span> <span class="k">if</span> <span class="n">token</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">)]</span>

<span class="n">Text</span><span class="p">(</span><span class="n">alice_clean</span><span class="p">)</span><span class="o">.</span><span class="n">collocation_list</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;mock&#39;, &#39;turtle&#39;),
 (&#39;march&#39;, &#39;hare&#39;),
 (&#39;said&#39;, &#39;alice&#39;),
 (&#39;white&#39;, &#39;rabbit&#39;),
 (&#39;join&#39;, &#39;dance&#39;),
 (&#39;soo&#39;, &#39;oop&#39;),
 (&#39;minute&#39;, &#39;two&#39;),
 (&#39;said&#39;, &#39;king&#39;),
 (&#39;beg&#39;, &#39;pardon&#39;),
 (&#39;beautiful&#39;, &#39;soup&#39;),
 (&#39;thought&#39;, &#39;alice&#39;),
 (&#39;bread&#39;, &#39;butter&#39;),
 (&#39;golden&#39;, &#39;key&#39;),
 (&#39;said&#39;, &#39;caterpillar&#39;),
 (&#39;set&#39;, &#39;work&#39;),
 (&#39;kid&#39;, &#39;gloves&#39;),
 (&#39;said&#39;, &#39;hatter&#39;),
 (&#39;beau&#39;, &#39;ootiful&#39;),
 (&#39;mary&#39;, &#39;ann&#39;),
 (&#39;yer&#39;, &#39;honour&#39;)]
</pre></div>
</div>
</div>
</div>
<p>If we compare the collocations to the most common bigrams, we see that the collocations are more informative.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">(</span><span class="n">nltk</span><span class="o">.</span><span class="n">bigrams</span><span class="p">(</span><span class="n">alice_clean</span><span class="p">))</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[((&#39;said&#39;, &#39;alice&#39;), 123),
 ((&#39;mock&#39;, &#39;turtle&#39;), 56),
 ((&#39;march&#39;, &#39;hare&#39;), 31),
 ((&#39;said&#39;, &#39;king&#39;), 29),
 ((&#39;thought&#39;, &#39;alice&#39;), 26),
 ((&#39;white&#39;, &#39;rabbit&#39;), 22),
 ((&#39;said&#39;, &#39;hatter&#39;), 22),
 ((&#39;said&#39;, &#39;mock&#39;), 20),
 ((&#39;said&#39;, &#39;caterpillar&#39;), 18),
 ((&#39;said&#39;, &#39;gryphon&#39;), 18),
 ((&#39;alice&#39;, &#39;said&#39;), 17),
 ((&#39;said&#39;, &#39;duchess&#39;), 15),
 ((&#39;said&#39;, &#39;cat&#39;), 14),
 ((&#39;alice&#39;, &#39;thought&#39;), 13),
 ((&#39;said&#39;, &#39;queen&#39;), 13),
 ((&#39;minute&#39;, &#39;two&#39;), 12),
 ((&#39;poor&#39;, &#39;alice&#39;), 11),
 ((&#39;alice&#39;, &#39;could&#39;), 11),
 ((&#39;king&#39;, &#39;said&#39;), 11),
 ((&#39;oh&#39;, &#39;dear&#39;), 10),
 ((&#39;said&#39;, &#39;march&#39;), 10),
 ((&#39;poor&#39;, &#39;little&#39;), 9),
 ((&#39;might&#39;, &#39;well&#39;), 9),
 ((&#39;alice&#39;, &#39;went&#39;), 9),
 ((&#39;said&#39;, &#39;mouse&#39;), 9),
 ((&#39;alice&#39;, &#39;replied&#39;), 9),
 ((&#39;alice&#39;, &#39;looked&#39;), 9),
 ((&#39;said&#39;, &#39;dormouse&#39;), 9),
 ((&#39;join&#39;, &#39;dance&#39;), 9),
 ((&#39;little&#39;, &#39;thing&#39;), 8)]
</pre></div>
</div>
</div>
</div>
</section>
<section id="lemmatization">
<h2>Lemmatization<a class="headerlink" href="#lemmatization" title="Permalink to this headline">#</a></h2>
<p>A lemma is the base form of a word. It is what would typically be used as an entry in an English dictionary. Lemmatization refers to grouping together words that are inflectional variants of the same lemma: (go,went), (read, reading, reads), (cat, cats), etc..</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk</span> <span class="kn">import</span> <span class="n">WordNetLemmatizer</span>

<span class="n">lemmatizer</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">WordNetLemmatizer</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;cats :&quot;</span><span class="p">,</span> <span class="n">lemmatizer</span><span class="o">.</span><span class="n">lemmatize</span><span class="p">(</span><span class="s2">&quot;cats&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;corpora :&quot;</span><span class="p">,</span> <span class="n">lemmatizer</span><span class="o">.</span><span class="n">lemmatize</span><span class="p">(</span><span class="s2">&quot;corpora&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;says :&quot;</span><span class="p">,</span> <span class="n">lemmatizer</span><span class="o">.</span><span class="n">lemmatize</span><span class="p">(</span><span class="s2">&quot;says&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;went :&quot;</span><span class="p">,</span> <span class="n">lemmatizer</span><span class="o">.</span><span class="n">lemmatize</span><span class="p">(</span><span class="s2">&quot;went&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;leaves :&quot;</span><span class="p">,</span> <span class="n">lemmatizer</span><span class="o">.</span><span class="n">lemmatize</span><span class="p">(</span><span class="s2">&quot;leaves&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>cats : cat
corpora : corpus
says : say
went : went
leaves : leaf
</pre></div>
</div>
</div>
</div>
<p>Ok, so we can see a few problems here. First, went stayed as went. And “leaves” was matched to “leaf” whereas I was thinking of “leaves” as in a person leaves the room. The reason is that the WordNetLemmatizer is stupid. It defaults to treating words as nouns (with some exceptions). We can, however, pass it a part of speech as an argument:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the wordnet lemmatizer, the possible parts of speech are: n for noun, v for verb, a for adjective, r for adverb, s for satellite adjective</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;went :&quot;</span><span class="p">,</span> <span class="n">lemmatizer</span><span class="o">.</span><span class="n">lemmatize</span><span class="p">(</span><span class="s2">&quot;went&quot;</span><span class="p">,</span><span class="n">pos</span><span class="o">=</span><span class="s2">&quot;v&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;leaves :&quot;</span><span class="p">,</span> <span class="n">lemmatizer</span><span class="o">.</span><span class="n">lemmatize</span><span class="p">(</span><span class="s2">&quot;leaves&quot;</span><span class="p">,</span><span class="n">pos</span><span class="o">=</span><span class="s2">&quot;v&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;redder :&quot;</span><span class="p">,</span> <span class="n">lemmatizer</span><span class="o">.</span><span class="n">lemmatize</span><span class="p">(</span><span class="s2">&quot;redder&quot;</span><span class="p">,</span><span class="n">pos</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>went : go
leaves : leave
redder : red
</pre></div>
</div>
</div>
</div>
<p>What use is lemmatization if we have to manually tell it what part of speech something is? Well, we don’t have to do it <em>manually</em>. If we’re processing words in context, we can use NLTK’s <a class="reference external" href="https://www.nltk.org/book/ch05.html">automatic Part of Speech Tagging</a> instead!</p>
</section>
<section id="wordnet">
<h2>WordNet<a class="headerlink" href="#wordnet" title="Permalink to this headline">#</a></h2>
<p>NLTK has a handy <a class="reference external" href="https://www.nltk.org/howto/wordnet.html">interface to WordNet</a>. Here’s an example of using it to automatically classify some animals into classe (mammals, birds, etc.). See <a class="reference external" href="https://www.nltk.org/howto/wordnet.html">more examples here</a>.</p>
<p>Let’s import the wordnet module and look up some words.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">wordnet</span> <span class="k">as</span> <span class="n">wn</span>

<span class="nb">print</span><span class="p">(</span><span class="n">wn</span><span class="o">.</span><span class="n">synsets</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">wn</span><span class="o">.</span><span class="n">synsets</span><span class="p">(</span><span class="s1">&#39;horse&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">wn</span><span class="o">.</span><span class="n">synsets</span><span class="p">(</span><span class="s1">&#39;pressure&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">wn</span><span class="o">.</span><span class="n">synsets</span><span class="p">(</span><span class="s1">&#39;take&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[Synset(&#39;table.n.01&#39;), Synset(&#39;table.n.02&#39;), Synset(&#39;table.n.03&#39;), Synset(&#39;mesa.n.01&#39;), Synset(&#39;table.n.05&#39;), Synset(&#39;board.n.04&#39;), Synset(&#39;postpone.v.01&#39;), Synset(&#39;table.v.02&#39;)]


[Synset(&#39;horse.n.01&#39;), Synset(&#39;horse.n.02&#39;), Synset(&#39;cavalry.n.01&#39;), Synset(&#39;sawhorse.n.01&#39;), Synset(&#39;knight.n.02&#39;), Synset(&#39;horse.v.01&#39;)]


[Synset(&#39;pressure.n.01&#39;), Synset(&#39;pressure.n.02&#39;), Synset(&#39;press.n.09&#39;), Synset(&#39;imperativeness.n.01&#39;), Synset(&#39;pressure.n.05&#39;), Synset(&#39;pressure.n.06&#39;), Synset(&#39;atmospheric_pressure.n.01&#39;), Synset(&#39;coerce.v.01&#39;), Synset(&#39;blackmail.v.01&#39;)]


[Synset(&#39;return.n.06&#39;), Synset(&#39;take.n.02&#39;), Synset(&#39;take.v.01&#39;), Synset(&#39;take.v.02&#39;), Synset(&#39;lead.v.01&#39;), Synset(&#39;take.v.04&#39;), Synset(&#39;assume.v.03&#39;), Synset(&#39;take.v.06&#39;), Synset(&#39;bring.v.01&#39;), Synset(&#39;take.v.08&#39;), Synset(&#39;take.v.09&#39;), Synset(&#39;choose.v.01&#39;), Synset(&#39;accept.v.02&#39;), Synset(&#39;fill.v.04&#39;), Synset(&#39;consider.v.03&#39;), Synset(&#39;necessitate.v.01&#39;), Synset(&#39;take.v.15&#39;), Synset(&#39;film.v.01&#39;), Synset(&#39;remove.v.01&#39;), Synset(&#39;consume.v.02&#39;), Synset(&#39;take.v.19&#39;), Synset(&#39;take.v.20&#39;), Synset(&#39;take.v.21&#39;), Synset(&#39;assume.v.05&#39;), Synset(&#39;accept.v.05&#39;), Synset(&#39;take.v.24&#39;), Synset(&#39;learn.v.04&#39;), Synset(&#39;claim.v.05&#39;), Synset(&#39;take.v.27&#39;), Synset(&#39;aim.v.01&#39;), Synset(&#39;take.v.29&#39;), Synset(&#39;carry.v.02&#39;), Synset(&#39;lease.v.04&#39;), Synset(&#39;subscribe.v.05&#39;), Synset(&#39;take.v.33&#39;), Synset(&#39;take.v.34&#39;), Synset(&#39;take.v.35&#39;), Synset(&#39;claim.v.04&#39;), Synset(&#39;accept.v.08&#39;), Synset(&#39;contain.v.05&#39;), Synset(&#39;take.v.39&#39;), Synset(&#39;drive.v.16&#39;), Synset(&#39;take.v.41&#39;), Synset(&#39;contract.v.04&#39;)]
</pre></div>
</div>
</div>
</div>
<p>What is all this stuff? Each entry (synset) is a different sense of the word. We can look up specific synsets to see what they’re about, e.g. let’s iterate over the synsets for “table”</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">cur_synset</span> <span class="ow">in</span> <span class="n">wn</span><span class="o">.</span><span class="n">synsets</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cur_synset</span><span class="p">,</span><span class="n">cur_synset</span><span class="o">.</span><span class="n">definition</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Synset(&#39;table.n.01&#39;) a set of data arranged in rows and columns
Synset(&#39;table.n.02&#39;) a piece of furniture having a smooth flat top that is usually supported by one or more vertical legs
Synset(&#39;table.n.03&#39;) a piece of furniture with tableware for a meal laid out on it
Synset(&#39;mesa.n.01&#39;) flat tableland with steep edges
Synset(&#39;table.n.05&#39;) a company of people assembled at a table for a meal or game
Synset(&#39;board.n.04&#39;) food or meals in general
Synset(&#39;postpone.v.01&#39;) hold back to a later time
Synset(&#39;table.v.02&#39;) arrange or enter in tabular form
</pre></div>
</div>
</div>
</div>
<p>The “syn” part of “synset” stands for synonym. A key part of WordNet’s organization is how it links word meanings (synsets) to word forms (lemmas).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">cur_synset</span> <span class="ow">in</span> <span class="n">wn</span><span class="o">.</span><span class="n">synsets</span><span class="p">(</span><span class="s1">&#39;alligator&#39;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cur_synset</span><span class="p">,</span><span class="n">cur_synset</span><span class="o">.</span><span class="n">definition</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Synset(&#39;alligator.n.01&#39;) leather made from alligator&#39;s hide
Synset(&#39;alligator.n.02&#39;) either of two amphibious reptiles related to crocodiles but with shorter broader snouts
Synset(&#39;alligator.v.01&#39;) crack and acquire the appearance of alligator hide, as from weathering or improper application; of paint and varnishes
</pre></div>
</div>
</div>
</div>
<p>Notice that the second entry is not paper, but composition. What this means is that the second noun sense of “paper” has several lemmas. Let’s confirm:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">wn</span><span class="o">.</span><span class="n">synset</span><span class="p">(</span><span class="s1">&#39;paper.n.02&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">lemmas</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[Lemma(&#39;composition.n.08.composition&#39;), Lemma(&#39;composition.n.08.paper&#39;), Lemma(&#39;composition.n.08.report&#39;), Lemma(&#39;composition.n.08.theme&#39;)]
</pre></div>
</div>
</div>
</div>
<p>These meanings are the same, but are parts of different synsets:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">wn</span><span class="o">.</span><span class="n">synset</span><span class="p">(</span><span class="s1">&#39;paper.n.02&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">definition</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">wn</span><span class="o">.</span><span class="n">synset</span><span class="p">(</span><span class="s1">&#39;composition.n.08&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">definition</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>an essay (especially one written as an assignment)
an essay (especially one written as an assignment)
</pre></div>
</div>
</div>
</div>
<section id="antonyms-and-entailments">
<h3>Antonyms and entailments<a class="headerlink" href="#antonyms-and-entailments" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">wn</span><span class="o">.</span><span class="n">synset</span><span class="p">(</span><span class="s1">&#39;high.a.01&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">lemmas</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">antonyms</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">wn</span><span class="o">.</span><span class="n">synset</span><span class="p">(</span><span class="s1">&#39;rich.a.01&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">lemmas</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">antonyms</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="n">wn</span><span class="o">.</span><span class="n">synset</span><span class="p">(</span><span class="s1">&#39;walk.v.01&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">entailments</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">wn</span><span class="o">.</span><span class="n">synset</span><span class="p">(</span><span class="s1">&#39;eat.v.01&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">entailments</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[Lemma(&#39;low.a.01.low&#39;)]
[Lemma(&#39;poor.a.02.poor&#39;)]
[Synset(&#39;step.v.01&#39;)]
[Synset(&#39;chew.v.01&#39;), Synset(&#39;swallow.v.01&#39;)]
</pre></div>
</div>
</div>
</div>
</section>
<section id="looking-up-the-class-of-an-animal-quick-case-study">
<h3>Looking up the class of an animal – quick case study<a class="headerlink" href="#looking-up-the-class-of-an-animal-quick-case-study" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#from nltk.stem import WordNetLemmatize</span>
<span class="c1">#lemmatiser = WordNetLemmatizer()</span>

<span class="k">def</span> <span class="nf">make_singular_and_lemmatize</span><span class="p">(</span><span class="n">response</span><span class="p">,</span><span class="n">pos</span><span class="o">=</span><span class="s2">&quot;n&quot;</span><span class="p">):</span> <span class="c1">#lemmatize nouns. If the repsonse has multiple words, lemmatize just the last word</span>
    <span class="k">if</span> <span class="s1">&#39;(&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;(&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">response</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
    <span class="n">singular</span> <span class="o">=</span> <span class="n">lemmatiser</span><span class="o">.</span><span class="n">lemmatize</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">pos</span><span class="o">=</span><span class="n">pos</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">singular</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="s1">&#39;_&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]),</span><span class="n">singular</span><span class="p">))</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="s1">&#39;_&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span>


<span class="k">def</span> <span class="nf">make_synset</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="s1">&#39;01&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Make a synset&quot;&quot;&quot;</span>
    <span class="n">number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">wn</span><span class="o">.</span><span class="n">synset</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">.</span><span class="si">%02i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">number</span><span class="p">))</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">word</span>
           
<span class="k">def</span> <span class="nf">_recurse_all_hypernyms</span><span class="p">(</span><span class="n">synset</span><span class="p">,</span> <span class="n">all_hypernyms</span><span class="p">):</span>
    <span class="n">synset_hypernyms</span> <span class="o">=</span> <span class="n">synset</span><span class="o">.</span><span class="n">hypernyms</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">synset_hypernyms</span><span class="p">:</span>
        <span class="n">all_hypernyms</span> <span class="o">+=</span> <span class="n">synset_hypernyms</span>
        <span class="k">for</span> <span class="n">hypernym</span> <span class="ow">in</span> <span class="n">synset_hypernyms</span><span class="p">:</span>
            <span class="n">_recurse_all_hypernyms</span><span class="p">(</span><span class="n">hypernym</span><span class="p">,</span> <span class="n">all_hypernyms</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">all_hypernyms</span><span class="p">(</span><span class="n">synset</span><span class="p">,</span><span class="n">return_what</span><span class="o">=</span><span class="s1">&#39;synset&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the set of hypernyms of the hypernym of the synset etc.</span>
<span class="sd">       Nouns can have multiple hypernyms, so we can&#39;t just create a depth-sorted</span>
<span class="sd">       list. If return_what is set to lemmas (or something other than synset), return the lemmas instead of a list of synset,</span>
<span class="sd">    return. Else return a list of synsets &quot;&quot;&quot;</span>
    <span class="n">hypernyms</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">synset</span><span class="p">)</span><span class="o">==</span><span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">(())</span>
    <span class="n">_recurse_all_hypernyms</span><span class="p">(</span><span class="n">synset</span><span class="p">,</span> <span class="n">hypernyms</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">return_what</span><span class="o">!=</span><span class="s1">&#39;synset&#39;</span><span class="p">:</span>
        <span class="n">hypernyms</span> <span class="o">=</span> <span class="p">[</span><span class="n">cur_synset</span><span class="o">.</span><span class="n">lemma_names</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">cur_synset</span> <span class="ow">in</span> <span class="n">hypernyms</span><span class="p">]</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">hypernyms</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">all_hypernyms</span><span class="p">(</span><span class="n">make_synset</span><span class="p">(</span><span class="s1">&#39;alligator&#39;</span><span class="p">,</span><span class="n">number</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span><span class="n">return_what</span><span class="o">=</span><span class="s2">&quot;lemmas&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;physical_entity&#39;,
 &#39;whole&#39;,
 &#39;crocodilian_reptile&#39;,
 &#39;chordate&#39;,
 &#39;diapsid&#39;,
 &#39;organism&#39;,
 &#39;entity&#39;,
 &#39;vertebrate&#39;,
 &#39;animal&#39;,
 &#39;object&#39;,
 &#39;reptile&#39;,
 &#39;living_thing&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">classes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;mammal&#39;</span><span class="p">,</span><span class="s1">&#39;bird&#39;</span><span class="p">,</span><span class="s1">&#39;reptile&#39;</span><span class="p">,</span><span class="s1">&#39;insect&#39;</span><span class="p">,</span><span class="s1">&#39;amphibian&#39;</span><span class="p">,</span><span class="s1">&#39;arthropod&#39;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">classes</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">all_hypernyms</span><span class="p">(</span><span class="n">make_synset</span><span class="p">(</span><span class="s1">&#39;dog&#39;</span><span class="p">),</span><span class="n">return_what</span><span class="o">=</span><span class="s2">&quot;lemmas&quot;</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classes</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">all_hypernyms</span><span class="p">(</span><span class="n">make_synset</span><span class="p">(</span><span class="s1">&#39;sparrow&#39;</span><span class="p">),</span><span class="n">return_what</span><span class="o">=</span><span class="s2">&quot;lemmas&quot;</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classes</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">all_hypernyms</span><span class="p">(</span><span class="n">make_synset</span><span class="p">(</span><span class="s1">&#39;dinosaur&#39;</span><span class="p">),</span><span class="n">return_what</span><span class="o">=</span><span class="s2">&quot;lemmas&quot;</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classes</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">all_hypernyms</span><span class="p">(</span><span class="n">make_synset</span><span class="p">(</span><span class="s1">&#39;alligator&#39;</span><span class="p">,</span><span class="n">number</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span><span class="n">return_what</span><span class="o">=</span><span class="s2">&quot;lemmas&quot;</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;mammal&#39;}
{&#39;bird&#39;}
{&#39;reptile&#39;}
{&#39;reptile&#39;}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">make_synset</span><span class="p">(</span><span class="s1">&#39;alligator&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Synset(&#39;alligator.n.01&#39;)
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Gary Lupyan<br/>
  
      &copy; Copyright 2022. Some examples adapted from http://introtopython.org/.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>